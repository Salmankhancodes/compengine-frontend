"use strict";function bytes(e,r){return"string"==typeof e?parse(e):"number"==typeof e?format(e,r):null}function format(e,r){if(!numberIsFinite(e))return null;var a=Math.abs(e),t=r&&r.thousandsSeparator||"",o=r&&r.unitSeparator||"",s=r&&void 0!==r.decimalPlaces?r.decimalPlaces:2,n=Boolean(r&&r.fixedDecimals),p=r&&r.unit||"";p&&map[p.toLowerCase()]||(p=a>=map.tb?"TB":a>=map.gb?"GB":a>=map.mb?"MB":a>=map.kb?"kB":"B");var m=(e/map[p.toLowerCase()]).toFixed(s);return n||(m=m.replace(formatDecimalsRegExp,"$1")),t&&(m=m.replace(formatThousandsRegExp,t)),m+o+p}function parse(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var r,a=parseRegExp.exec(e),t="b";return a?(r=parseFloat(a[1]),t=a[4].toLowerCase()):(r=parseInt(e,10),t="b"),Math.floor(map[t]*r)}module.exports=bytes,module.exports.format=format,module.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g,formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/,map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:1024*(1<<30)},numberIsFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb)$/i;